# JavaScript DOM - Materiały dla uczniów

## Spis treści
1. [Wprowadzenie do DOM](#wprowadzenie-do-dom)
2. [Obiekt `document`](#obiekt-document)
3. [Metoda `getElementById()`](#metoda-getelementbyid)
4. [Metoda `querySelector()`](#metoda-queryselector)
5. [Różnice między `getElementById` a `querySelector`](#różnice-między-getelementbyid-a-queryselector)
6. [Manipulacja elementami](#manipulacja-elementami)
7. [Przykłady praktyczne](#przykłady-praktyczne)
8. [Zadania do wykonania](#zadania-do-wykonania)

---

## Wprowadzenie do DOM

**DOM** (Document Object Model) to interfejs programistyczny, który reprezentuje strukturę dokumentu HTML jako drzewo obiektów. Dzięki DOM możemy używać JavaScriptu do:

- **Odczytywania** zawartości strony
- **Modyfikowania** elementów HTML
- **Dodawania** nowych elementów
- **Usuwania** istniejących elementów
- **Reagowania** na zdarzenia użytkownika (kliknięcia, ruchy myszy itp.)

### Jak wygląda struktura DOM?

Wyobraź sobie dokument HTML jako drzewo:

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Moja strona</title>
  </head>
  <body>
    <h1 id="naglowek">Witaj!</h1>
    <p class="opis">To jest paragraf.</p>
  </body>
</html>
```

W modelu DOM:
- `<html>` jest korzeniem drzewa
- `<head>` i `<body>` są dziećmi elementu `<html>`
- `<title>`, `<h1>`, `<p>` są dalszymi węzłami w drzewie

---

## Obiekt `document`

Obiekt `document` jest **punktem wejścia do DOM**. Reprezentuje cały dokument HTML załadowany w przeglądarce. To właśnie przez ten obiekt uzyskujemy dostęp do wszystkich elementów na stronie.

### Podstawowe właściwości obiektu `document`:

```javascript
// Zwraca tytuł dokumentu
console.log(document.title);

// Zwraca adres URL bieżącej strony
console.log(document.URL);

// Zwraca element <body>
console.log(document.body);

// Zwraca element <head>
console.log(document.head);

// Zwraca wszystkie linki na stronie
console.log(document.links);

// Zwraca wszystkie obrazy na stronie
console.log(document.images);
```

### Przykład użycia:

```javascript
// Zmiana tytułu strony
document.title = "Nowy tytuł strony";

// Dostęp do elementu body i zmiana jego koloru tła
document.body.style.backgroundColor = "lightblue";
```

---

## Metoda `getElementById()`

Metoda `getElementById()` jest jedną z **najszybszych** metod do wyszukiwania elementów w DOM. Zwraca **pojedynczy element**, który ma określony atrybut `id`.

### Składnia:

```javascript
document.getElementById(id)
```

- **Parametr**: `id` - ciąg znaków reprezentujący wartość atrybutu `id` elementu
- **Zwraca**: Element DOM lub `null` jeśli nie znaleziono elementu

### Ważne zasady:
- Identyfikatory `id` powinny być **unikalne** w dokumencie
- Metoda zwraca **tylko pierwszy** element z danym `id` (nawet jeśli jest ich więcej)
- Wielkość liter **ma znaczenie**

### Przykład HTML:

```html
<!DOCTYPE html>
<html>
<body>
  <h1 id="tytul">Witaj na mojej stronie!</h1>
  <p id="opis">To jest opis strony.</p>
  <button id="przycisk">Kliknij mnie</button>

  <script src="script.js"></script>
</body>
</html>
```

### Przykłady użycia w JavaScript:

```javascript
// 1. Pobranie elementu
const tytul = document.getElementById("tytul");
console.log(tytul); // <h1 id="tytul">Witaj na mojej stronie!</h1>

// 2. Zmiana zawartości tekstowej
const opis = document.getElementById("opis");
opis.textContent = "Nowy opis strony";

// 3. Zmiana stylu
tytul.style.color = "blue";
tytul.style.fontSize = "40px";

// 4. Dodanie nasłuchiwacza zdarzeń
const przycisk = document.getElementById("przycisk");
przycisk.addEventListener("click", function() {
  alert("Przycisk został kliknięty!");
});
```

### Co jeśli element nie istnieje?

```javascript
const nieistniejecy = document.getElementById("nieistniejacy-id");
console.log(nieistniejecy); // null

// Zawsze sprawdzaj czy element istnieje przed manipulacją
if (nieistniejecy) {
  nieistniejecy.textContent = "Tekst";
} else {
  console.log("Element nie został znaleziony");
}
```

---

## Metoda `querySelector()`

Metoda `querySelector()` jest **bardziej elastyczna** niż `getElementById()`. Pozwala wyszukiwać elementy używając **selektorów CSS**. Zwraca **pierwszy element**, który pasuje do podanego selektora.

### Składnia:

```javascript
document.querySelector(selektor)
```

- **Parametr**: `selektor` - ciąg znaków zawierający selektor CSS
- **Zwraca**: Pierwszy pasujący element DOM lub `null` jeśli nie znaleziono

### Przykłady selektorów:

```javascript
// Selektor po ID (z prefiksem #)
const element1 = document.querySelector("#tytul");

// Selektor po klasie (z prefiksem .)
const element2 = document.querySelector(".opis");

// Selektor po nazwie tagu
const element3 = document.querySelector("h1");

// Selektor po atrybucie
const element4 = document.querySelector("[type='text']");
const element5 = document.querySelector("input[name='email']");

// Selektor złożony (kombinacja)
const element6 = document.querySelector("div.container p");
const element7 = document.querySelector("ul > li:first-child");
const element8 = document.querySelector("a[href^='https']");
```

### Przykład HTML:

```html
<!DOCTYPE html>
<html>
<body>
  <div class="kontener">
    <h1 class="naglowek">Tytuł strony</h1>
    <p class="tekst">Pierwszy paragraf</p>
    <p class="tekst">Drugi paragraf</p>
  </div>
  <button id="btn">Przycisk</button>

  <script src="script.js"></script>
</body>
</html>
```

### Przykłady użycia:

```javascript
// 1. Wybór elementu po klasie
const naglowek = document.querySelector(".naglowek");
naglowek.style.color = "red";

// 2. Wybór pierwszego paragrafu o klasie "tekst"
const pierwszyParagraf = document.querySelector(".tekst");
pierwszyParagraf.textContent = "Zmieniony tekst";

// 3. Wybór elementu w kontenerze
const paragrafWKontenerze = document.querySelector(".kontener p");
console.log(paragrafWKontenerze.textContent);

// 4. Wybór przycisku
const przycisk = document.querySelector("#btn");
przycisk.addEventListener("click", function() {
  alert("Kliknięto!");
});
```

### `querySelector()` vs `querySelectorAll()`

- **`querySelector()`** - zwraca **pierwszy** pasujący element
- **`querySelectorAll()`** - zwraca **wszystkie** pasujące elementy (jako NodeList)

```javascript
// querySelector - zwraca pierwszy element
const jeden = document.querySelector(".tekst");
console.log(jeden); // <p class="tekst">Pierwszy paragraf</p>

// querySelectorAll - zwraca wszystkie elementy
const wszystkie = document.querySelectorAll(".tekst");
console.log(wszystkie); // NodeList(2) [p.tekst, p.tekst]

// Iteracja po wszystkich elementach
wszystkie.forEach(function(element) {
  element.style.fontWeight = "bold";
});
```

---

## Różnice między `getElementById` a `querySelector`

| Cecha | `getElementById()` | `querySelector()` |
|-------|-------------------|-------------------|
| **Selektor** | Tylko `id` | Dowolny selektor CSS |
| **Składnia** | `getElementById("id")` | `querySelector("#id")` |
| **Wydajność** | Szybsza | Nieznacznie wolniejsza |
| **Elastyczność** | Niska | Bardzo wysoka |
| **Obsługiwane przeglądarki** | Wszystkie (IE 5.5+) | Nowoczesne (IE 8+) |
| **Zwracana wartość** | Element lub `null` | Element lub `null` |

### Kiedy używać której metody?

- **`getElementById()`**: Gdy wiesz, że szukasz elementu po `id` i zależy Ci na wydajności
- **`querySelector()`**: Gdy potrzebujesz większej elastyczności (klasy, atrybuty, złożone selektory)

### Przykład porównania:

```javascript
// Te dwie linie robią to samo
const element1 = document.getElementById("moj-element");
const element2 = document.querySelector("#moj-element");

// Ale querySelector może więcej:
const element3 = document.querySelector(".klasa");
const element4 = document.querySelector("div > p:first-child");
const element5 = document.querySelector("[data-id='123']");
```

---

## Manipulacja elementami

Po znalezieniu elementu możemy go modyfikować na różne sposoby:

### 1. Zmiana zawartości

```javascript
const element = document.getElementById("tekst");

// textContent - zwykły tekst (bezpieczniejsze)
element.textContent = "Nowy tekst";

// innerHTML - HTML (ostrożnie z danymi od użytkowników!)
element.innerHTML = "<strong>Pogrubiony tekst</strong>";
```

### 2. Zmiana stylów CSS

```javascript
const box = document.querySelector(".box");

// Zmiana pojedynczego stylu
box.style.backgroundColor = "blue";
box.style.fontSize = "20px";
box.style.padding = "10px";

// Uwaga: nazwy właściwości CSS w camelCase
box.style.borderRadius = "5px"; // border-radius w CSS
```

### 3. Praca z klasami CSS

```javascript
const element = document.querySelector(".element");

// Dodanie klasy
element.classList.add("aktywny");

// Usunięcie klasy
element.classList.remove("nieaktywny");

// Przełączanie klasy (toggle), jeśli klasa istnieje usuwa ją, jeśli nie istanieje to dodaje
element.classList.toggle("widoczny");

// Sprawdzenie czy ma klasę
if (element.classList.contains("aktywny")) {
  console.log("Element jest aktywny");
}
```

### 4. Zmiana atrybutów

```javascript
const link = document.querySelector("a");

// Pobranie wartości atrybutu
const href = link.getAttribute("href");
console.log(href);

// Ustawienie wartości atrybutu
link.setAttribute("href", "https://example.com");
link.setAttribute("target", "_blank");

// Usunięcie atrybutu
link.removeAttribute("target");
```

### 5. Tworzenie i dodawanie nowych elementów

```javascript
// Tworzenie nowego elementu
const nowyParagraf = document.createElement("p");
nowyParagraf.textContent = "To jest nowy paragraf";
nowyParagraf.classList.add("nowy");

// Dodanie do dokumentu, w tym przypadku jako dziecka innego elementu
const kontener = document.getElementById("kontener");
kontener.appendChild(nowyParagraf);
```

### 6. Usuwanie elementów

```javascript
const element = document.getElementById("do-usuniecia");

// Metoda 1: remove()
element.remove();

// Metoda 2: removeChild() metoda .parentElement zwraca rodzica elementu
const rodzic = element.parentElement;
rodzic.removeChild(element);
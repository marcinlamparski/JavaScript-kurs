# Galeria zdjÄ™Ä‡ w JavaScript - Instrukcja dla uczniÃ³w

## Spis treÅ›ci
1. [Wprowadzenie](#wprowadzenie)
2. [Podstawowa struktura galerii](#podstawowa-struktura-galerii)
3. [Modal (Lightbox) - powiÄ™kszanie zdjÄ™Ä‡](#modal-lightbox---powiÄ™kszanie-zdjÄ™Ä‡)
4. [Zadania do wykonania](#zadania-do-wykonania)
5. [Dodatkowe informacje](#dodatkowe-informacje)

---

## Wprowadzenie

Galeria zdjÄ™Ä‡ to jeden z najbardziej popularnych elementÃ³w wspÃ³Å‚czesnych stron internetowych. W tym projekcie nauczysz siÄ™ tworzyÄ‡ interaktywnÄ… galeriÄ™ ze zdjÄ™ciami, ktÃ³ra bÄ™dzie zawieraÄ‡ rÃ³Å¼ne funkcje poprawiajÄ…ce doÅ›wiadczenie uÅ¼ytkownika.

### Co bÄ™dziemy tworzyÄ‡?

- PodstawowÄ… galeriÄ™ z miniaturkami zdjÄ™Ä‡
- Modal (lightbox) do wyÅ›wietlania powiÄ™kszonych zdjÄ™Ä‡
- RÃ³Å¼ne funkcje ulepszajÄ…ce galeriÄ™ (zadania)

### Czego siÄ™ nauczysz?

- Manipulacji DOM (tworzenie, modyfikowanie elementÃ³w)
- ObsÅ‚ugi zdarzeÅ„ (klikniÄ™cia, klawiatura)
- Pracy z atrybutami `data-*`
- Filtrowania i sortowania elementÃ³w
- Zaawansowanych technik JavaScript

---

## Podstawowa struktura galerii

### HTML - Struktura

```html
<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galeria zdjÄ™Ä‡</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Moja galeria zdjÄ™Ä‡</h1>
    
    <!-- Kontener na miniatury -->
    <div class="gallery" id="gallery">
      <div class="gallery-item" data-category="natura" data-id="1">
        <img src="https://picsum.photos/300/200?random=1" alt="ZdjÄ™cie 1">
      </div>
      <div class="gallery-item" data-category="miasto" data-id="2">
        <img src="https://picsum.photos/300/200?random=2" alt="ZdjÄ™cie 2">
      </div>
      <div class="gallery-item" data-category="natura" data-id="3">
        <img src="https://picsum.photos/300/200?random=3" alt="ZdjÄ™cie 3">
      </div>
      <div class="gallery-item" data-category="ludzie" data-id="4">
        <img src="https://picsum.photos/300/200?random=4" alt="ZdjÄ™cie 4">
      </div>
      <div class="gallery-item" data-category="miasto" data-id="5">
        <img src="https://picsum.photos/300/200?random=5" alt="ZdjÄ™cie 5">
      </div>
      <div class="gallery-item" data-category="ludzie" data-id="6">
        <img src="https://picsum.photos/300/200?random=6" alt="ZdjÄ™cie 6">
      </div>
    </div>

    <!-- Modal do wyÅ›wietlania powiÄ™kszonych zdjÄ™Ä‡ -->
    <div id="modal" class="modal">
      <span class="close">&times;</span>
      <img class="modal-content" id="modal-img">
      <div id="caption"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
```

### CSS - Stylowanie

```css
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, sans-serif;
  background: #f0f0f0;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  text-align: center;
  margin-bottom: 30px;
  color: #333;
}

/* Galeria - Grid Layout */
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 15px;
  margin-bottom: 30px;
}

.gallery-item {
  cursor: pointer;
  overflow: hidden;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.gallery-item:hover {
  transform: scale(1.05);
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.gallery-item img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  display: block;
}

/* Modal (Lightbox) */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
  overflow: auto;
}

.modal-content {
  margin: auto;
  display: block;
  max-width: 90%;
  max-height: 90%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: zoom 0.3s;
}

@keyframes zoom {
  from { transform: translate(-50%, -50%) scale(0); }
  to { transform: translate(-50%, -50%) scale(1); }
}

.close {
  position: absolute;
  top: 20px;
  right: 35px;
  color: #fff;
  font-size: 40px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.close:hover,
.close:focus {
  color: #bbb;
}

#caption {
  text-align: center;
  color: #ccc;
  padding: 10px 0;
  position: absolute;
  width: 100%;
  bottom: 20px;
  font-size: 18px;
}
```

---

## Modal (Lightbox) - powiÄ™kszanie zdjÄ™Ä‡

### JavaScript - Podstawowa funkcjonalnoÅ›Ä‡

```javascript
// Pobieramy wszystkie elementy galerii
const galleryItems = document.querySelectorAll('.gallery-item');
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modal-img');
const captionText = document.getElementById('caption');
const closeBtn = document.querySelector('.close');

// Dodajemy event listener do kaÅ¼dego zdjÄ™cia
galleryItems.forEach(item => {
  item.addEventListener('click', function() {
    openModal(this);
  });
});

// Funkcja otwierajÄ…ca modal
function openModal(element) {
  const img = element.querySelector('img');
  modal.style.display = 'block';
  modalImg.src = img.src;
  captionText.textContent = img.alt;
}

// Zamykanie modala po klikniÄ™ciu X
closeBtn.addEventListener('click', function() {
  modal.style.display = 'none';
});

// Zamykanie modala po klikniÄ™ciu w tÅ‚o
modal.addEventListener('click', function(e) {
  if (e.target === modal) {
    modal.style.display = 'none';
  }
});
```

### WyjaÅ›nienie kluczowych elementÃ³w

#### 1. Atrybuty `data-*`

```html
<div class="gallery-item" data-category="natura" data-id="1">
```

Atrybuty `data-*` pozwalajÄ… przechowywaÄ‡ dodatkowe informacje w elementach HTML. W JavaScript dostÄ™p do nich uzyskujemy przez wÅ‚aÅ›ciwoÅ›Ä‡ `dataset`:

```javascript
const item = document.querySelector('.gallery-item');
console.log(item.dataset.category); // "natura"
console.log(item.dataset.id); // "1"

// MoÅ¼na teÅ¼ modyfikowaÄ‡
item.dataset.category = "gory";
```

#### 2. Grid Layout w CSS

```css
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 15px;
}
```

- `repeat(auto-fit, ...)` - automatycznie dopasowuje liczbÄ™ kolumn
- `minmax(250px, 1fr)` - kaÅ¼da kolumna ma minimum 250px, maksimum 1 czÄ™Å›Ä‡ dostÄ™pnej przestrzeni
- `gap: 15px` - odstÄ™p miÄ™dzy elementami

#### 3. Modal z pozycjonowaniem

```css
.modal-content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
```

Ta technika centruje element dokÅ‚adnie na Å›rodku ekranu.

---

## Zadania do wykonania

### Zadanie 1: Nawigacja klawiaturÄ… (Poziom: Åšredni)

**Cel:** Dodaj moÅ¼liwoÅ›Ä‡ nawigacji miÄ™dzy zdjÄ™ciami w modalu uÅ¼ywajÄ…c strzaÅ‚ek na klawiaturze.

**Wymagania:**
- StrzaÅ‚ka w prawo (`ArrowRight`) â†’ nastÄ™pne zdjÄ™cie
- StrzaÅ‚ka w lewo (`ArrowLeft`) â†’ poprzednie zdjÄ™cie
- Klawisz `Escape` â†’ zamkniÄ™cie modala

**WskazÃ³wki:**
```javascript
// Potrzebujesz zmiennej przechowujÄ…cej aktualny indeks zdjÄ™cia
let currentIndex = 0;

// Event listener na klawiaturÄ™
document.addEventListener('keydown', function(e) {
  if (modal.style.display === 'block') {
    if (e.key === 'ArrowRight') {
      // PokaÅ¼ nastÄ™pne zdjÄ™cie
    } else if (e.key === 'ArrowLeft') {
      // PokaÅ¼ poprzednie zdjÄ™cie
    } else if (e.key === 'Escape') {
      // Zamknij modal
    }
  }
});
```

**Do przemyÅ›lenia:**
- Jak obsÅ‚uÅ¼yÄ‡ sytuacjÄ™, gdy jesteÅ›my na ostatnim/pierwszym zdjÄ™ciu?
- Jak pobraÄ‡ nastÄ™pne/poprzednie zdjÄ™cie z listy?

---

### Zadanie 2: Filtrowanie po kategoriach (Poziom: Åšredni)

**Cel:** Dodaj przyciski filtrujÄ…ce zdjÄ™cia wedÅ‚ug kategorii (natura, miasto, ludzie).

**Wymagania:**
- Dodaj przyciski nad galeriÄ…: "Wszystkie", "Natura", "Miasto", "Ludzie"
- Po klikniÄ™ciu przycisku pokazuj tylko zdjÄ™cia z danej kategorii
- Aktywny przycisk powinien byÄ‡ wizualnie wyrÃ³Å¼niony

**Struktura HTML:**
```html
<div class="filters" id="filters">
  <button class="filter-btn active" data-filter="all">Wszystkie</button>
  <button class="filter-btn" data-filter="natura">Natura</button>
  <button class="filter-btn" data-filter="miasto">Miasto</button>
  <button class="filter-btn" data-filter="ludzie">Ludzie</button>
</div>
```

**WskazÃ³wki:**
```javascript
// UÅ¼yj dataset.category na elementach galerii
// UÅ¼yj dataset.filter na przyciskach

function filterGallery(category) {
  galleryItems.forEach(item => {
    if (category === 'all' || item.dataset.category === category) {
      item.style.display = 'block';
    } else {
      item.style.display = 'none';
    }
  });
}
```

**CSS dla przyciskÃ³w:**
```css
.filters {
  text-align: center;
  margin-bottom: 20px;
}

.filter-btn {
  padding: 10px 20px;
  margin: 0 5px;
  border: 2px solid #333;
  background: white;
  cursor: pointer;
  border-radius: 5px;
  transition: all 0.3s;
}

.filter-btn.active {
  background: #333;
  color: white;
}
```

---

### Zadanie 3: Licznik wyÅ›wietleÅ„ (Poziom: Åatwy)

**Cel:** Dodaj licznik pokazujÄ…cy ile razy dane zdjÄ™cie zostaÅ‚o otwarte w modalu.

**Wymagania:**
- KaÅ¼de zdjÄ™cie ma licznik wyÅ›wietleÅ„ (poczÄ…tkowo 0)
- Po kaÅ¼dym otwarciu zdjÄ™cia w modalu licznik zwiÄ™ksza siÄ™ o 1
- Licznik wyÅ›wietla siÄ™ na miniaturze zdjÄ™cia

**Struktura HTML:**
```html
<div class="gallery-item" data-category="natura" data-id="1" data-views="0">
  <img src="..." alt="ZdjÄ™cie 1">
  <span class="view-counter">0 wyÅ›wietleÅ„</span>
</div>
```

**CSS:**
```css
.gallery-item {
  position: relative;
}

.view-counter {
  position: absolute;
  bottom: 10px;
  right: 10px;
  background: rgba(0,0,0,0.7);
  color: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 12px;
}
```

**WskazÃ³wki:**
```javascript
function openModal(element) {
  // ... istniejÄ…cy kod ...
  
  // ZwiÄ™ksz licznik
  let views = parseInt(element.dataset.views);
  views++;
  element.dataset.views = views;
  
  // Zaktualizuj wyÅ›wietlany tekst
  const counter = element.querySelector('.view-counter');
  counter.textContent = views + ' wyÅ›wietleÅ„';
}
```

---

### Zadanie 4: Przyciski nawigacji w modalu (Poziom: Åšredni)

**Cel:** Dodaj widoczne przyciski "Poprzednie" i "NastÄ™pne" w modalu.

**Wymagania:**
- Przyciski powinny byÄ‡ widoczne po bokach zdjÄ™cia
- KlikniÄ™cie przycisku zmienia zdjÄ™cie
- Przyciski powinny byÄ‡ zablokowane, gdy jesteÅ›my na pierwszym/ostatnim zdjÄ™ciu

**Struktura HTML:**
```html
<div id="modal" class="modal">
  <span class="close">&times;</span>
  <button class="modal-nav prev" id="prev-btn">&#10094;</button>
  <img class="modal-content" id="modal-img">
  <button class="modal-nav next" id="next-btn">&#10095;</button>
  <div id="caption"></div>
</div>
```

**CSS:**
```css
.modal-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.2);
  color: white;
  border: none;
  font-size: 40px;
  padding: 20px;
  cursor: pointer;
  transition: 0.3s;
}

.modal-nav:hover {
  background: rgba(255,255,255,0.4);
}

.modal-nav.prev {
  left: 20px;
}

.modal-nav.next {
  right: 20px;
}

.modal-nav:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}
```

**WskazÃ³wki:**
```javascript
function updateNavButtons() {
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');
  
  prevBtn.disabled = (currentIndex === 0);
  nextBtn.disabled = (currentIndex === galleryItems.length - 1);
}
```

---

### Zadanie 5: Wyszukiwarka zdjÄ™Ä‡ (Poziom: Trudny)

**Cel:** Dodaj pole wyszukiwania, ktÃ³re filtruje zdjÄ™cia na podstawie tekstu z atrybutu `alt`.

**Wymagania:**
- Pole input nad galeriÄ…
- Filtrowanie w czasie rzeczywistym (podczas wpisywania)
- Wyszukiwanie niewraÅ¼liwe na wielkoÅ›Ä‡ liter
- JeÅ›li nie znaleziono wynikÃ³w, pokaÅ¼ komunikat

**Struktura HTML:**
```html
<div class="search-box">
  <input type="text" id="search-input" placeholder="Szukaj zdjÄ™Ä‡...">
</div>
<div id="no-results" class="no-results" style="display: none;">
  Nie znaleziono Å¼adnych zdjÄ™Ä‡
</div>
```

**CSS:**
```css
.search-box {
  text-align: center;
  margin-bottom: 20px;
}

#search-input {
  width: 100%;
  max-width: 500px;
  padding: 12px 20px;
  font-size: 16px;
  border: 2px solid #ddd;
  border-radius: 25px;
  outline: none;
}

#search-input:focus {
  border-color: #333;
}

.no-results {
  text-align: center;
  padding: 40px;
  color: #999;
  font-size: 18px;
}
```

**WskazÃ³wki:**
```javascript
const searchInput = document.getElementById('search-input');
const noResults = document.getElementById('no-results');

searchInput.addEventListener('input', function() {
  const searchTerm = this.value.toLowerCase();
  let visibleCount = 0;
  
  galleryItems.forEach(item => {
    const img = item.querySelector('img');
    const alt = img.alt.toLowerCase();
    
    if (alt.includes(searchTerm)) {
      item.style.display = 'block';
      visibleCount++;
    } else {
      item.style.display = 'none';
    }
  });
  
  // PokaÅ¼ komunikat jeÅ›li brak wynikÃ³w
  noResults.style.display = (visibleCount === 0) ? 'block' : 'none';
});
```

---

### Zadanie 6: Ulubione zdjÄ™cia (Poziom: Trudny)

**Cel:** Dodaj moÅ¼liwoÅ›Ä‡ oznaczania zdjÄ™Ä‡ jako "ulubione" i wyÅ›wietlania tylko ulubionych.

**Wymagania:**
- Ikona serca na kaÅ¼dym zdjÄ™ciu
- KlikniÄ™cie serca oznacza/odznacza zdjÄ™cie jako ulubione
- Przycisk "PokaÅ¼ ulubione" filtrujÄ…cy galeriÄ™
- Licznik ulubionych zdjÄ™Ä‡

**Struktura HTML:**
```html
<div class="top-bar">
  <button id="show-favorites" class="favorites-btn">
    â¤ï¸ Ulubione (<span id="favorites-count">0</span>)
  </button>
</div>

<!-- W kaÅ¼dym gallery-item -->
<div class="gallery-item" data-favorite="false">
  <img src="..." alt="...">
  <span class="favorite-icon">ğŸ¤</span>
</div>
```

**CSS:**
```css
.top-bar {
  text-align: center;
  margin-bottom: 20px;
}

.favorites-btn {
  padding: 12px 25px;
  font-size: 16px;
  border: 2px solid #e74c3c;
  background: white;
  color: #e74c3c;
  cursor: pointer;
  border-radius: 25px;
  transition: all 0.3s;
}

.favorites-btn.active {
  background: #e74c3c;
  color: white;
}

.favorite-icon {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 24px;
  cursor: pointer;
  transition: transform 0.2s;
  background: rgba(255,255,255,0.8);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.favorite-icon:hover {
  transform: scale(1.2);
}
```

**WskazÃ³wki:**
```javascript
let favoritesCount = 0;
let showingFavorites = false;

// Dodaj event listener do ikon serc
galleryItems.forEach(item => {
  const favoriteIcon = item.querySelector('.favorite-icon');
  
  favoriteIcon.addEventListener('click', function(e) {
    e.stopPropagation(); // Zapobiega otwarciu modala
    
    const isFavorite = item.dataset.favorite === 'true';
    
    if (isFavorite) {
      // UsuÅ„ z ulubionych
      item.dataset.favorite = 'false';
      favoriteIcon.textContent = 'ğŸ¤';
      favoritesCount--;
    } else {
      // Dodaj do ulubionych
      item.dataset.favorite = 'true';
      favoriteIcon.textContent = 'â¤ï¸';
      favoritesCount++;
    }
    
    updateFavoritesCount();
  });
});

function updateFavoritesCount() {
  document.getElementById('favorites-count').textContent = favoritesCount;
}

// Przycisk filtrowania ulubionych
document.getElementById('show-favorites').addEventListener('click', function() {
  showingFavorites = !showingFavorites;
  this.classList.toggle('active');
  
  galleryItems.forEach(item => {
    if (showingFavorites) {
      // PokaÅ¼ tylko ulubione
      item.style.display = (item.dataset.favorite === 'true') ? 'block' : 'none';
    } else {
      // PokaÅ¼ wszystkie
      item.style.display = 'block';
    }
  });
});
```

---

## Dodatkowe informacje

### Przydatne wÅ‚aÅ›ciwoÅ›ci i metody

#### 1. Element.classList
```javascript
element.classList.add('active');
element.classList.remove('active');
element.classList.toggle('active');
element.classList.contains('active'); // true/false
```

#### 2. Element.dataset
```javascript
// HTML: <div data-user-id="123" data-role="admin">
element.dataset.userId; // "123"
element.dataset.role; // "admin"
```

#### 3. Zdarzenia klawiatury
```javascript
document.addEventListener('keydown', function(event) {
  console.log(event.key); // "ArrowRight", "Escape", "Enter", itp.
  console.log(event.code); // "ArrowRight", "Escape", "Enter"
});
```

#### 4. Array.prototype.forEach()
```javascript
const items = document.querySelectorAll('.item');
items.forEach((item, index) => {
  console.log(`Element ${index}:`, item);
});
```

#### 5. String.prototype.includes()
```javascript
const text = "Hello World";
text.includes("World"); // true
text.includes("world"); // false (wielkoÅ›Ä‡ liter ma znaczenie!)
text.toLowerCase().includes("world"); // true
```

### Najlepsze praktyki

1. **UÅ¼ywaj `const` i `let`** zamiast `var`
2. **Nadawaj opisowe nazwy zmiennym** - `currentIndex` zamiast `i`
3. **Komentuj trudniejsze fragmenty kodu**
4. **Testuj na rÃ³Å¼nych urzÄ…dzeniach** - responsywnoÅ›Ä‡!
5. **Dodawaj animacje** - poprawiajÄ… UX
6. **ObsÅ‚uguj bÅ‚Ä™dy** - sprawdzaj czy elementy istniejÄ… przed manipulacjÄ…

### Rozszerzenia (dla chÄ™tnych)

- **Lazy loading** - Å‚aduj zdjÄ™cia dopiero gdy sÄ… widoczne
- **Infinite scroll** - automatyczne Å‚adowanie kolejnych zdjÄ™Ä‡
- **Drag & drop** - zmiana kolejnoÅ›ci zdjÄ™Ä‡
- **Zoom** - przybliÅ¼anie zdjÄ™Ä‡ w modalu
- **Animacje** - pÅ‚ynne przejÅ›cia miÄ™dzy zdjÄ™ciami
- **Local Storage** - zapisywanie ulubionych w przeglÄ…darce

---

## Podsumowanie

Gratulacje! StworzyÅ‚eÅ› funkcjonalnÄ… galeriÄ™ zdjÄ™Ä‡ z wieloma interaktywnymi funkcjami:

âœ… Podstawowa galeria z grid layout  
âœ… Modal (lightbox) do powiÄ™kszania zdjÄ™Ä‡  
âœ… Nawigacja klawiaturÄ…  
âœ… Filtrowanie po kategoriach  
âœ… Licznik wyÅ›wietleÅ„  
âœ… Przyciski nawigacji  
âœ… Wyszukiwarka  
âœ… System ulubionych  

### NastÄ™pne kroki

1. **Wykonaj wszystkie zadania** po kolei
2. **Testuj kaÅ¼dÄ… funkcjÄ™** dokÅ‚adnie
3. **Eksperymentuj** - dodaj wÅ‚asne pomysÅ‚y!
4. **Stylizuj** - nadaj galerii swÃ³j unikalny wyglÄ…d

**Powodzenia w tworzeniu galerii! ğŸ“¸âœ¨**